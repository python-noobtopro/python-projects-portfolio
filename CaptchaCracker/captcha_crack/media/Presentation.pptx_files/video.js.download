var video=function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={i:n,l:!1,exports:{}};return e[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}return i.m=e,i.c=t,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="",i(i.s=10)}([function(e,t,i){var n=i(8),r=i(9),o=r;o.v1=n,o.v4=r,e.exports=o},function(e,t){var i;i=function(){return this}();try{i=i||new Function("return this")()}catch(e){"object"==typeof window&&(i=window)}e.exports=i},function(e,t){var i="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(i){var n=new Uint8Array(16);e.exports=function(){return i(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},function(e,t){for(var i=[],n=0;n<256;++n)i[n]=(n+256).toString(16).substr(1);e.exports=function(e,t){var n=t||0,r=i;return[r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],"-",r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]],r[e[n++]]].join("")}},function(e,t,i){"use strict";(function(e,i){/*! @vimeo/player v2.13.0 | (c) 2020 Vimeo | MIT License | https://github.com/vimeo/player.js */
function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var o=void 0!==e&&"[object global]"==={}.toString.call(e);function a(e,t){return 0===e.indexOf(t.toLowerCase())?e:"".concat(t.toLowerCase()).concat(e.substr(0,1).toUpperCase()).concat(e.substr(1))}function s(e){return Boolean(e&&1===e.nodeType&&"nodeName"in e&&e.ownerDocument&&e.ownerDocument.defaultView)}function u(e){return!isNaN(parseFloat(e))&&isFinite(e)&&Math.floor(e)==e}function l(e){return/^(https?:)?\/\/((player|www)\.)?vimeo\.com(?=$|\/)/.test(e)}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.id,i=e.url,n=t||i;if(!n)throw new Error("An id or url must be passed, either in an options object or as a data-vimeo-id or data-vimeo-url attribute.");if(u(n))return"https://vimeo.com/".concat(n);if(l(n))return n.replace("http:","https:");if(t)throw new TypeError("“".concat(t,"” is not a valid video id."));throw new TypeError("“".concat(n,"” is not a vimeo.com url."))}var d=void 0!==Array.prototype.indexOf,h="undefined"!=typeof window&&void 0!==window.postMessage;if(!(o||d&&h))throw new Error("Sorry, the Vimeo Player API is not available in this browser.");var p="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{};
/*!
 * weakmap-polyfill v2.0.1 - ECMAScript6 WeakMap polyfill
 * https://github.com/polygonplanet/weakmap-polyfill
 * Copyright (c) 2015-2020 Polygon Planet <polygon.planet.aqua@gmail.com>
 * @license MIT
 */
!function(e){if(!e.WeakMap){var t=Object.prototype.hasOwnProperty,i=function(e,t,i){Object.defineProperty?Object.defineProperty(e,t,{configurable:!0,writable:!0,value:i}):e[t]=i};e.WeakMap=function(){function e(){if(void 0===this)throw new TypeError("Constructor WeakMap requires 'new'");if(i(this,"_id",o("_WeakMap")),arguments.length>0)throw new TypeError("WeakMap iterable is not supported")}function r(e,i){if(!n(e)||!t.call(e,"_id"))throw new TypeError(i+" method called on incompatible receiver "+typeof e)}function o(e){return e+"_"+a()+"."+a()}function a(){return Math.random().toString().substring(2)}return i(e.prototype,"delete",(function(e){if(r(this,"delete"),!n(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)&&(delete e[this._id],!0)})),i(e.prototype,"get",(function(e){if(r(this,"get"),n(e)){var t=e[this._id];return t&&t[0]===e?t[1]:void 0}})),i(e.prototype,"has",(function(e){if(r(this,"has"),!n(e))return!1;var t=e[this._id];return!(!t||t[0]!==e)})),i(e.prototype,"set",(function(e,t){if(r(this,"set"),!n(e))throw new TypeError("Invalid value used as weak map key");var o=e[this._id];return o&&o[0]===e?(o[1]=t,this):(i(e,this._id,[e,t]),this)})),i(e,"_polyfill",!0),e}()}function n(e){return Object(e)===e}}("undefined"!=typeof self?self:"undefined"!=typeof window?window:p);var f=function(e,t){return e(t={exports:{}},t.exports),t.exports}((function(e){
/*! Native Promise Only
    v0.8.1 (c) Kyle Simpson
    MIT License: http://getify.mit-license.org
*/
var t,n,r;r=function(){var e,t,n,r=Object.prototype.toString,o=void 0!==i?function(e){return i(e)}:setTimeout;try{Object.defineProperty({},"x",{}),e=function(e,t,i,n){return Object.defineProperty(e,t,{value:i,writable:!0,configurable:!1!==n})}}catch(t){e=function(e,t,i){return e[t]=i,e}}function a(e,i){n.add(e,i),t||(t=o(n.drain))}function s(e){var t,i=typeof e;return null==e||"object"!=i&&"function"!=i||(t=e.then),"function"==typeof t&&t}function u(){for(var e=0;e<this.chain.length;e++)l(this,1===this.state?this.chain[e].success:this.chain[e].failure,this.chain[e]);this.chain.length=0}function l(e,t,i){var n,r;try{!1===t?i.reject(e.msg):(n=!0===t?e.msg:t.call(void 0,e.msg))===i.promise?i.reject(TypeError("Promise-chain cycle")):(r=s(n))?r.call(n,i.resolve,i.reject):i.resolve(n)}catch(e){i.reject(e)}}function c(e){var t,i=this;if(!i.triggered){i.triggered=!0,i.def&&(i=i.def);try{(t=s(e))?a((function(){var n=new p(i);try{t.call(e,(function(){c.apply(n,arguments)}),(function(){d.apply(n,arguments)}))}catch(e){d.call(n,e)}})):(i.msg=e,i.state=1,i.chain.length>0&&a(u,i))}catch(e){d.call(new p(i),e)}}}function d(e){var t=this;t.triggered||(t.triggered=!0,t.def&&(t=t.def),t.msg=e,t.state=2,t.chain.length>0&&a(u,t))}function h(e,t,i,n){for(var r=0;r<t.length;r++)!function(r){e.resolve(t[r]).then((function(e){i(r,e)}),n)}(r)}function p(e){this.def=e,this.triggered=!1}function f(e){this.promise=e,this.state=0,this.triggered=!1,this.chain=[],this.msg=void 0}function y(e){if("function"!=typeof e)throw TypeError("Not a function");if(0!==this.__NPO__)throw TypeError("Not a promise");this.__NPO__=1;var t=new f(this);this.then=function(e,i){var n={success:"function"!=typeof e||e,failure:"function"==typeof i&&i};return n.promise=new this.constructor((function(e,t){if("function"!=typeof e||"function"!=typeof t)throw TypeError("Not a function");n.resolve=e,n.reject=t})),t.chain.push(n),0!==t.state&&a(u,t),n.promise},this.catch=function(e){return this.then(void 0,e)};try{e.call(void 0,(function(e){c.call(t,e)}),(function(e){d.call(t,e)}))}catch(e){d.call(t,e)}}n=function(){var e,i,n;function r(e,t){this.fn=e,this.self=t,this.next=void 0}return{add:function(t,o){n=new r(t,o),i?i.next=n:e=n,i=n,n=void 0},drain:function(){var n=e;for(e=i=t=void 0;n;)n.fn.call(n.self),n=n.next}}}();var m=e({},"constructor",y,!1);return y.prototype=m,e(m,"__NPO__",0,!1),e(y,"resolve",(function(e){return e&&"object"==typeof e&&1===e.__NPO__?e:new this((function(t,i){if("function"!=typeof t||"function"!=typeof i)throw TypeError("Not a function");t(e)}))})),e(y,"reject",(function(e){return new this((function(t,i){if("function"!=typeof t||"function"!=typeof i)throw TypeError("Not a function");i(e)}))})),e(y,"all",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):0===e.length?t.resolve([]):new t((function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");var r=e.length,o=Array(r),a=0;h(t,e,(function(e,t){o[e]=t,++a===r&&i(o)}),n)}))})),e(y,"race",(function(e){var t=this;return"[object Array]"!=r.call(e)?t.reject(TypeError("Not an array")):new t((function(i,n){if("function"!=typeof i||"function"!=typeof n)throw TypeError("Not a function");h(t,e,(function(e,t){i(t)}),n)}))})),y},(n=p)[t="Promise"]=n[t]||r(),e.exports&&(e.exports=n[t])})),y=new WeakMap;function m(e,t,i){var n=y.get(e.element)||{};t in n||(n[t]=[]),n[t].push(i),y.set(e.element,n)}function v(e,t){return(y.get(e.element)||{})[t]||[]}function g(e,t,i){var n=y.get(e.element)||{};if(!n[t])return!0;if(!i)return n[t]=[],y.set(e.element,n),!0;var r=n[t].indexOf(i);return-1!==r&&n[t].splice(r,1),y.set(e.element,n),n[t]&&0===n[t].length}function w(e,t){var i=y.get(e);y.set(t,i),y.delete(e)}var b=["autopause","autoplay","background","byline","color","controls","dnt","height","id","loop","maxheight","maxwidth","muted","playsinline","portrait","responsive","speed","texttrack","title","transparent","url","width"];function S(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return b.reduce((function(t,i){var n=e.getAttribute("data-vimeo-".concat(i));return(n||""===n)&&(t[i]=""===n?1:n),t}),t)}function P(e,t){var i=e.html;if(!t)throw new TypeError("An element must be provided");if(null!==t.getAttribute("data-vimeo-initialized"))return t.querySelector("iframe");var n=document.createElement("div");return n.innerHTML=i,t.appendChild(n.firstChild),t.setAttribute("data-vimeo-initialized","true"),t.querySelector("iframe")}function T(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=arguments.length>2?arguments[2]:void 0;return new Promise((function(n,r){if(!l(e))throw new TypeError("“".concat(e,"” is not a vimeo.com url."));var o="https://vimeo.com/api/oembed.json?url=".concat(encodeURIComponent(e));for(var a in t)t.hasOwnProperty(a)&&(o+="&".concat(a,"=").concat(encodeURIComponent(t[a])));var s="XDomainRequest"in window?new XDomainRequest:new XMLHttpRequest;s.open("GET",o,!0),s.onload=function(){if(404!==s.status)if(403!==s.status)try{var t=JSON.parse(s.responseText);if(403===t.domain_status_code)return P(t,i),void r(new Error("“".concat(e,"” is not embeddable.")));n(t)}catch(e){r(e)}else r(new Error("“".concat(e,"” is not embeddable.")));else r(new Error("“".concat(e,"” was not found.")))},s.onerror=function(){var e=s.status?" (".concat(s.status,")"):"";r(new Error("There was an error fetching the embed code from Vimeo".concat(e,".")))},s.send()}))}function k(e){if("string"==typeof e)try{e=JSON.parse(e)}catch(e){return console.warn(e),{}}return e}function E(e,t,i){if(e.element.contentWindow&&e.element.contentWindow.postMessage){var n={method:t};void 0!==i&&(n.value=i);var r=parseFloat(navigator.userAgent.toLowerCase().replace(/^.*msie (\d+).*$/,"$1"));r>=8&&r<10&&(n=JSON.stringify(n)),e.element.contentWindow.postMessage(n,e.origin)}}function M(e,t){var i,n=[];if((t=k(t)).event){if("error"===t.event)v(e,t.data.method).forEach((function(i){var n=new Error(t.data.message);n.name=t.data.name,i.reject(n),g(e,t.data.method,i)}));n=v(e,"event:".concat(t.event)),i=t.data}else if(t.method){var r=function(e,t){var i=v(e,t);if(i.length<1)return!1;var n=i.shift();return g(e,t,n),n}(e,t.method);r&&(n.push(r),i=t.value)}n.forEach((function(t){try{if("function"==typeof t)return void t.call(e,i);t.resolve(i)}catch(e){}}))}var I=new WeakMap,C=new WeakMap,L={},B=function(){function e(t){var i=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n(this,e),window.jQuery&&t instanceof jQuery&&(t.length>1&&window.console&&console.warn&&console.warn("A jQuery object with multiple elements was passed, using the first element."),t=t[0]),"undefined"!=typeof document&&"string"==typeof t&&(t=document.getElementById(t)),!s(t))throw new TypeError("You must pass either a valid element or a valid id.");if("IFRAME"!==t.nodeName){var o=t.querySelector("iframe");o&&(t=o)}if("IFRAME"===t.nodeName&&!l(t.getAttribute("src")||""))throw new Error("The player element passed isn’t a Vimeo embed.");if(I.has(t))return I.get(t);this._window=t.ownerDocument.defaultView,this.element=t,this.origin="*";var a=new f((function(e,n){if(i._onMessage=function(t){if(l(t.origin)&&i.element.contentWindow===t.source){"*"===i.origin&&(i.origin=t.origin);var r=k(t.data);if(r&&"error"===r.event&&r.data&&"ready"===r.data.method){var o=new Error(r.data.message);return o.name=r.data.name,void n(o)}var a=r&&"ready"===r.event,s=r&&"ping"===r.method;if(a||s)return i.element.setAttribute("data-ready","true"),void e();M(i,r)}},i._window.addEventListener("message",i._onMessage),"IFRAME"!==i.element.nodeName){var o=S(t,r);T(c(o),o,t).then((function(e){var n=P(e,t);return i.element=n,i._originalElement=t,w(t,n),I.set(i.element,i),e})).catch(n)}}));if(C.set(this,a),I.set(this.element,this),"IFRAME"===this.element.nodeName&&E(this,"ping"),L.isEnabled){var u=function(){return L.exit()};L.on("fullscreenchange",(function(){L.isFullscreen?m(i,"event:exitFullscreen",u):g(i,"event:exitFullscreen",u),i.ready().then((function(){E(i,"fullscreenchange",L.isFullscreen)}))}))}return this}var t,i,o;return t=e,(i=[{key:"callMethod",value:function(e){var t=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return new f((function(n,r){return t.ready().then((function(){m(t,e,{resolve:n,reject:r}),E(t,e,i)})).catch(r)}))}},{key:"get",value:function(e){var t=this;return new f((function(i,n){return e=a(e,"get"),t.ready().then((function(){m(t,e,{resolve:i,reject:n}),E(t,e)})).catch(n)}))}},{key:"set",value:function(e,t){var i=this;return new f((function(n,r){if(e=a(e,"set"),null==t)throw new TypeError("There must be a value to set.");return i.ready().then((function(){m(i,e,{resolve:n,reject:r}),E(i,e,t)})).catch(r)}))}},{key:"on",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(!t)throw new TypeError("You must pass a callback function.");if("function"!=typeof t)throw new TypeError("The callback must be a function.");0===v(this,"event:".concat(e)).length&&this.callMethod("addEventListener",e).catch((function(){})),m(this,"event:".concat(e),t)}},{key:"off",value:function(e,t){if(!e)throw new TypeError("You must pass an event name.");if(t&&"function"!=typeof t)throw new TypeError("The callback must be a function.");g(this,"event:".concat(e),t)&&this.callMethod("removeEventListener",e).catch((function(e){}))}},{key:"loadVideo",value:function(e){return this.callMethod("loadVideo",e)}},{key:"ready",value:function(){var e=C.get(this)||new f((function(e,t){t(new Error("Unknown player. Probably unloaded."))}));return f.resolve(e)}},{key:"addCuePoint",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.callMethod("addCuePoint",{time:e,data:t})}},{key:"removeCuePoint",value:function(e){return this.callMethod("removeCuePoint",e)}},{key:"enableTextTrack",value:function(e,t){if(!e)throw new TypeError("You must pass a language.");return this.callMethod("enableTextTrack",{language:e,kind:t})}},{key:"disableTextTrack",value:function(){return this.callMethod("disableTextTrack")}},{key:"pause",value:function(){return this.callMethod("pause")}},{key:"play",value:function(){return this.callMethod("play")}},{key:"requestFullscreen",value:function(){return L.isEnabled?L.request(this.element):this.callMethod("requestFullscreen")}},{key:"exitFullscreen",value:function(){return L.isEnabled?L.exit():this.callMethod("exitFullscreen")}},{key:"getFullscreen",value:function(){return L.isEnabled?f.resolve(L.isFullscreen):this.get("fullscreen")}},{key:"unload",value:function(){return this.callMethod("unload")}},{key:"destroy",value:function(){var e=this;return new f((function(t){C.delete(e),I.delete(e.element),e._originalElement&&(I.delete(e._originalElement),e._originalElement.removeAttribute("data-vimeo-initialized")),e.element&&"IFRAME"===e.element.nodeName&&e.element.parentNode&&e.element.parentNode.removeChild(e.element),e._window.removeEventListener("message",e._onMessage),t()}))}},{key:"getAutopause",value:function(){return this.get("autopause")}},{key:"setAutopause",value:function(e){return this.set("autopause",e)}},{key:"getBuffered",value:function(){return this.get("buffered")}},{key:"getChapters",value:function(){return this.get("chapters")}},{key:"getCurrentChapter",value:function(){return this.get("currentChapter")}},{key:"getColor",value:function(){return this.get("color")}},{key:"setColor",value:function(e){return this.set("color",e)}},{key:"getCuePoints",value:function(){return this.get("cuePoints")}},{key:"getCurrentTime",value:function(){return this.get("currentTime")}},{key:"setCurrentTime",value:function(e){return this.set("currentTime",e)}},{key:"getDuration",value:function(){return this.get("duration")}},{key:"getEnded",value:function(){return this.get("ended")}},{key:"getLoop",value:function(){return this.get("loop")}},{key:"setLoop",value:function(e){return this.set("loop",e)}},{key:"setMuted",value:function(e){return this.set("muted",e)}},{key:"getMuted",value:function(){return this.get("muted")}},{key:"getPaused",value:function(){return this.get("paused")}},{key:"getPlaybackRate",value:function(){return this.get("playbackRate")}},{key:"setPlaybackRate",value:function(e){return this.set("playbackRate",e)}},{key:"getPlayed",value:function(){return this.get("played")}},{key:"getQualities",value:function(){return this.get("qualities")}},{key:"getQuality",value:function(){return this.get("quality")}},{key:"setQuality",value:function(e){return this.set("quality",e)}},{key:"getSeekable",value:function(){return this.get("seekable")}},{key:"getSeeking",value:function(){return this.get("seeking")}},{key:"getTextTracks",value:function(){return this.get("textTracks")}},{key:"getVideoEmbedCode",value:function(){return this.get("videoEmbedCode")}},{key:"getVideoId",value:function(){return this.get("videoId")}},{key:"getVideoTitle",value:function(){return this.get("videoTitle")}},{key:"getVideoWidth",value:function(){return this.get("videoWidth")}},{key:"getVideoHeight",value:function(){return this.get("videoHeight")}},{key:"getVideoUrl",value:function(){return this.get("videoUrl")}},{key:"getVolume",value:function(){return this.get("volume")}},{key:"setVolume",value:function(e){return this.set("volume",e)}}])&&r(t.prototype,i),o&&r(t,o),e}();o||(L=function(){var e=function(){for(var e,t=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]],i=0,n=t.length,r={};i<n;i++)if((e=t[i])&&e[1]in document){for(i=0;i<e.length;i++)r[t[0][i]]=e[i];return r}return!1}(),t={fullscreenchange:e.fullscreenchange,fullscreenerror:e.fullscreenerror},i={request:function(t){return new Promise((function(n,r){var o=function e(){i.off("fullscreenchange",e),n()};i.on("fullscreenchange",o);var a=(t=t||document.documentElement)[e.requestFullscreen]();a instanceof Promise&&a.then(o).catch(r)}))},exit:function(){return new Promise((function(t,n){if(i.isFullscreen){var r=function e(){i.off("fullscreenchange",e),t()};i.on("fullscreenchange",r);var o=document[e.exitFullscreen]();o instanceof Promise&&o.then(r).catch(n)}else t()}))},on:function(e,i){var n=t[e];n&&document.addEventListener(n,i)},off:function(e,i){var n=t[e];n&&document.removeEventListener(n,i)}};return Object.defineProperties(i,{isFullscreen:{get:function(){return Boolean(document[e.fullscreenElement])}},element:{enumerable:!0,get:function(){return document[e.fullscreenElement]}},isEnabled:{enumerable:!0,get:function(){return Boolean(document[e.fullscreenEnabled])}}}),i}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,t=[].slice.call(e.querySelectorAll("[data-vimeo-id], [data-vimeo-url]")),i=function(e){"console"in window&&console.error&&console.error("There was an error creating an embed: ".concat(e))};t.forEach((function(e){try{if(null!==e.getAttribute("data-vimeo-defer"))return;var t=S(e);T(c(t),t,e).then((function(t){return P(t,e)})).catch(i)}catch(e){i(e)}}))}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document;if(!window.VimeoPlayerResizeEmbeds_){window.VimeoPlayerResizeEmbeds_=!0;var t=function(t){if(l(t.origin)&&t.data&&"spacechange"===t.data.event)for(var i=e.querySelectorAll("iframe"),n=0;n<i.length;n++)if(i[n].contentWindow===t.source){i[n].parentElement.style.paddingBottom="".concat(t.data.data[0].bottom,"px");break}};window.addEventListener("message",t)}}()),t.a=B}).call(this,i(1),i(5).setImmediate)},function(e,t,i){(function(e){var n=void 0!==e&&e||"undefined"!=typeof self&&self||window,r=Function.prototype.apply;function o(e,t){this._id=e,this._clearFn=t}t.setTimeout=function(){return new o(r.call(setTimeout,n,arguments),clearTimeout)},t.setInterval=function(){return new o(r.call(setInterval,n,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},o.prototype.unref=o.prototype.ref=function(){},o.prototype.close=function(){this._clearFn.call(n,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout((function(){e._onTimeout&&e._onTimeout()}),t))},i(6),t.setImmediate="undefined"!=typeof self&&self.setImmediate||void 0!==e&&e.setImmediate||this&&this.setImmediate,t.clearImmediate="undefined"!=typeof self&&self.clearImmediate||void 0!==e&&e.clearImmediate||this&&this.clearImmediate}).call(this,i(1))},function(e,t,i){(function(e,t){!function(e,i){"use strict";if(!e.setImmediate){var n,r,o,a,s,u=1,l={},c=!1,d=e.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(e);h=h&&h.setTimeout?h:e,"[object process]"==={}.toString.call(e.process)?n=function(e){t.nextTick((function(){f(e)}))}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,i=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=i,t}}()?e.MessageChannel?((o=new MessageChannel).port1.onmessage=function(e){f(e.data)},n=function(e){o.port2.postMessage(e)}):d&&"onreadystatechange"in d.createElement("script")?(r=d.documentElement,n=function(e){var t=d.createElement("script");t.onreadystatechange=function(){f(e),t.onreadystatechange=null,r.removeChild(t),t=null},r.appendChild(t)}):n=function(e){setTimeout(f,0,e)}:(a="setImmediate$"+Math.random()+"$",s=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(a)&&f(+t.data.slice(a.length))},e.addEventListener?e.addEventListener("message",s,!1):e.attachEvent("onmessage",s),n=function(t){e.postMessage(a+t,"*")}),h.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),i=0;i<t.length;i++)t[i]=arguments[i+1];var r={callback:e,args:t};return l[u]=r,n(u),u++},h.clearImmediate=p}function p(e){delete l[e]}function f(e){if(c)setTimeout(f,0,e);else{var t=l[e];if(t){c=!0;try{!function(e){var t=e.callback,i=e.args;switch(i.length){case 0:t();break;case 1:t(i[0]);break;case 2:t(i[0],i[1]);break;case 3:t(i[0],i[1],i[2]);break;default:t.apply(void 0,i)}}(t)}finally{p(e),c=!1}}}}}("undefined"==typeof self?void 0===e?this:e:self)}).call(this,i(1),i(7))},function(e,t){var i,n,r=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function s(e){if(i===setTimeout)return setTimeout(e,0);if((i===o||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:o}catch(e){i=o}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,l=[],c=!1,d=-1;function h(){c&&u&&(c=!1,u.length?l=u.concat(l):d=-1,l.length&&p())}function p(){if(!c){var e=s(h);c=!0;for(var t=l.length;t;){for(u=l,l=[];++d<t;)u&&u[d].run();d=-1,t=l.length}u=null,c=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function f(e,t){this.fun=e,this.array=t}function y(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];l.push(new f(e,t)),1!==l.length||c||s(p)},f.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=y,r.addListener=y,r.once=y,r.off=y,r.removeListener=y,r.removeAllListeners=y,r.emit=y,r.prependListener=y,r.prependOnceListener=y,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){var n,r,o=i(2),a=i(3),s=0,u=0;e.exports=function(e,t,i){var l=t&&i||0,c=t||[],d=(e=e||{}).node||n,h=void 0!==e.clockseq?e.clockseq:r;if(null==d||null==h){var p=o();null==d&&(d=n=[1|p[0],p[1],p[2],p[3],p[4],p[5]]),null==h&&(h=r=16383&(p[6]<<8|p[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),y=void 0!==e.nsecs?e.nsecs:u+1,m=f-s+(y-u)/1e4;if(m<0&&void 0===e.clockseq&&(h=h+1&16383),(m<0||f>s)&&void 0===e.nsecs&&(y=0),y>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,u=y,r=h;var v=(1e4*(268435455&(f+=122192928e5))+y)%4294967296;c[l++]=v>>>24&255,c[l++]=v>>>16&255,c[l++]=v>>>8&255,c[l++]=255&v;var g=f/4294967296*1e4&268435455;c[l++]=g>>>8&255,c[l++]=255&g,c[l++]=g>>>24&15|16,c[l++]=g>>>16&255,c[l++]=h>>>8|128,c[l++]=255&h;for(var w=0;w<6;++w)c[l+w]=d[w];return t||a(c)}},function(e,t,i){var n=i(2),r=i(3);e.exports=function(e,t,i){var o=t&&i||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||n)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||r(a)}},function(e,t,i){"use strict";i.r(t),i.d(t,"videoManagerFactoryGlobal",(function(){return k}));var n={info:function(e,t){},warn:function(e,t){},error:function(e,t){}};function r(e){if(""===e)return"";var t=new RegExp("^[a-z+.-]+://([^/:?&]*)","i").exec(e);return null!=t&&t.length>1?t[1]:""}function o(e,t,i,n){void 0===n&&(n=!1);var r=e,o=null==i||""===i,a=r.indexOf("?");if(-1===a)return o?e:r+"?"+t+"="+i;var s=r.substr(a+1);if(0===s.length&&o)return e;var u=function(e,t,i,n){void 0===n&&(n=!1);for(var r=null==i||""===i,o=e,a=e.split("&"),s=(n?t.toLowerCase():t)+"=",u=!1,l=0,c=a;l<c.length;l++){var d=c[l];if(0===(n?d.toLowerCase():d).indexOf(s)){o=o.replace(d,r?"":s+i),u=!0;break}}u||r||(e.length>0&&(o+="&"),o+=s+i);return o}(s,t,i,n);return 0===s.length?r+=u:r=r.replace(s,u),r}function a(e){var t=new RegExp(/^.*(youtu.be\/|v\/|u\/\w\/|embed\/|watch\?v=|\&v=|\?v=)([^#\&\?]*).*/).exec(e);return null!=t&&t.length>=2?t[2]:""}var s=function(){function e(e,t){var i=this;this.player=document.createElement("iframe"),this.player.setAttribute("frameBorder","0"),this.videoURL=t,this.player.src=this.videoURL,this.player.setAttribute("allow","autoplay"),e.appendChild(this.player),this.player.addEventListener("load",(function(){null!==i.player.contentWindow&&i.player.contentWindow.focus()}))}return e.prototype.logSummary=function(){},e.prototype.play=function(){g(r(this.videoURL))?this.player.src=this.setAutoPlayParam():this.player.src=this.videoURL,this.setFocus()},e.prototype.pause=function(){},e.prototype.stop=function(){this.player.src=""},e.prototype.togglePause=function(){},e.prototype.setVisible=function(){this.player.style.visibility="visible"},e.prototype.setHidden=function(){this.player.style.visibility="hidden",this.player.style.pointerEvents="none"},e.prototype.getPlayerParentElement=function(){return this.player},e.prototype.getPlayer=function(){return this.player},e.prototype.getCurrentTime=function(){},e.prototype.getDuration=function(){},e.prototype.seekTo=function(e){},e.prototype.ensureMediaClient=function(){},e.prototype.setMute=function(){},e.prototype.setUnMute=function(){},e.prototype.setVolume=function(e){},e.prototype.setFocus=function(){null!==this.player.contentWindow&&this.player.contentWindow.focus()},e.prototype.setAutoPlayParam=function(){return"shorts.flipgrid.com"===r(this.videoURL)?o(this.videoURL,"options","autoplay"):o(this.videoURL,"autoplay","true")},e}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */function u(e,t,i,n){return new(i||(i=Promise))((function(r,o){function a(e){try{u(n.next(e))}catch(e){o(e)}}function s(e){try{u(n.throw(e))}catch(e){o(e)}}function u(e){var t;e.done?r(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(a,s)}u((n=n.apply(e,t||[])).next())}))}function l(e,t){var i,n,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(i)throw new TypeError("Generator is already executing.");for(;a;)try{if(i=1,n&&(r=2&o[0]?n.return:o[0]?n.throw||((r=n.return)&&r.call(n),0):n.next)&&!(r=r.call(n,o[1])).done)return r;switch(n=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,n=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!(r=a.trys,(r=r.length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=t.call(e,a)}catch(e){o=[6,e],n=0}finally{i=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}Object.create;Object.create;var c=i(4),d=i(0),h=function(){function e(e,t,i,n,r,o,a){this.iframeId=Object(d.v4)(),this.videoURL=t,this.parentElement=e,this.vimeoIframe=document.createElement("iframe"),this.startVimeoPlayerLoad=Date.now(),this.backDrop=this.createBackDrop(),this.setProperties(this.backDrop),this.onReadyCallBack=r,this.mediaEventCallback=o,this.isSlideShow=i,this.shouldAutoplay=!i,this.player=this.initNewVimeoPlayer(),this.mediaSyncLock=n,this.playerPerf=a}return e.prototype.logSummary=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.play=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.player.play(),[2]}))}))},e.prototype.pause=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.player.pause(),[2]}))}))},e.prototype.stop=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.player.pause(),this.player.setCurrentTime(0),[2]}))}))},e.prototype.togglePause=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){switch(t.label){case 0:e=!1,t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.player.getPaused()];case 2:return e=t.sent(),[3,4];case 3:return t.sent(),n.info(541881954,"Error getting getPaused state"),[3,4];case 4:return e?this.player.play():this.player.pause(),[2]}}))}))},e.prototype.setVisible=function(){null!==this.vimeoIframe&&(this.vimeoIframe.style.visibility="visible"),null!==this.backDrop&&(this.backDrop.style.visibility="visible")},e.prototype.setHidden=function(){null!==this.vimeoIframe&&(this.vimeoIframe.style.visibility="hidden"),null!==this.backDrop&&(this.backDrop.style.visibility="hidden")},e.prototype.getPlayer=function(){return this.vimeoIframe},e.prototype.getCurrentTime=function(){},e.prototype.getDuration=function(){if(void 0!==this.player&&void 0!==this.duration)return this.duration},e.prototype.seekTo=function(e){this.player.setCurrentTime(e)},e.prototype.setMute=function(){},e.prototype.setUnMute=function(){},e.prototype.setVolume=function(e){},e.prototype.ensureMediaClient=function(){this.startVimeoPlayerLoad=Date.now(),null!==this.vimeoIframe?(this.vimeoIframe.remove(),this.vimeoIframe=document.createElement("iframe"),this.player=this.initNewVimeoPlayer()):n.warn(572925601,"Attempted to ensure Vimeo media client but undefined IFrame")},e.prototype.initNewVimeoPlayer=function(){var e=this;this.vimeoIframe.src=this.videoURL,this.vimeoIframe.id=this.iframeId,this.parentElement.append(this.backDrop),this.parentElement.append(this.vimeoIframe);var t=new c.a(this.vimeoIframe,{autoplay:this.shouldAutoplay,controls:!0,responsive:!1});return t.ready().then((function(){e.setProperties(e.vimeoIframe),e.registerOnStateChange(),e.player.getDuration().then((function(t){e.duration=t})).catch((function(){n.warn(541881123,"Encountered error while trying to getDuration from player.vimeo.com.")})),void 0!==e.onReadyCallBack&&e.onReadyCallBack(),void 0!==e.playerPerf&&e.playerPerf.onReady(),e.isSlideShow||(e.player.play(),n.info(541881985,"Vimeo player init load duration\n              "+(Date.now()-e.startVimeoPlayerLoad)))})).catch((function(){e.isSlideShow||n.info(541881986,"Vimeo client error")})),t},e.prototype.registerOnStateChange=function(){var e=this;this.player.on("play",(function(t){e.onStateChange(1,t.seconds),void 0!==e.playerPerf&&e.playerPerf.onPlay()})),this.player.on("pause",(function(t){e.onStateChange(0,t.seconds),void 0!==e.playerPerf&&e.playerPerf.onPause()})),this.player.on("seeked",(function(t){e.onStateChange(3,t.seconds),void 0!==e.playerPerf&&e.playerPerf.onSeeked()})),this.player.on("volumechange",(function(t){e.onStateChange(4,t.seconds,t.volume)})),this.player.on("playing",(function(){void 0!==e.playerPerf&&e.playerPerf.onPlaying()})),this.player.on("seeking",(function(){void 0!==e.playerPerf&&e.playerPerf.onSeeking()})),this.player.on("ended",(function(){void 0!==e.playerPerf&&e.playerPerf.onEnded()})),this.player.on("progress",(function(){void 0!==e.playerPerf&&e.playerPerf.onProgress()})),this.player.on("error",(function(t){if(void 0!==e.playerPerf){var i=t.name+" error raised by Vimeo player's \""+t.method+'" method: ('+t.message+")";e.playerPerf.onError(i)}}))},e.prototype.onStateChange=function(e,t,i){if(void 0!==this.mediaEventCallback&&this.isSlideShow){switch(e){case 1:case 0:case 3:case 4:void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(e,t,i);break;default:n.info(574386887,"Unexpected SlideShowMediaEventType: "+e+" at playback time "+t)}n.info(574386888,"Vimeo Media Event: "+e+" at playback time "+t+" ")}},e.prototype.setProperties=function(e){null!==e&&(e.style.zIndex=6..toString(),e.style.pointerEvents="all",e.style.position="absolute",e.style.objectFit="fill",e.style.height="100%",e.style.width="100%",e.style.border="0px",this.setVisible())},e.prototype.createBackDrop=function(){var e=document.createElement("div");return e.style.backgroundColor="black",e},e}(),p=function(){function e(e,t,i,n,r,o,a,s,u){this.youtubeIframe=null,this.loadingThumbnail=!1,this.iframeId=Object(d.v4)(),this.videoId=i,this.isSlideShow=n,this.seekToTimeThreshold=o,this.parentElement=e,this.mediaEventCallback=s,this.perfSummary=this.initYoutubePerfSummary(),this.startYtPlayerLoad=Date.now(),this.mediaSizeInfo=t,this.player=this.initNewYoutubePlayer(),this.youtubeIframe=this.getIFrameById(),this.mediaSyncLock=a,this.onReadyCallBack=r,this.playerPerf=u}return e.prototype.logSummary=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.logPerfSummary(),[2]}))}))},e.prototype.play=function(){this.player.playVideo(),this.setFocus()},e.prototype.getVolume=function(){return this.player.getVolume()},e.prototype.pause=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return this.player.pauseVideo(),[2]}))}))},e.prototype.getPlayer=function(){return this.youtubeIframe},e.prototype.stop=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return void 0!==this.player&&this.player.stopVideo(),this.logPerfSummary(),[2]}))}))},e.prototype.togglePause=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return void 0!==this.player&&(2!==this.player.getPlayerState()?this.player.pauseVideo():this.player.playVideo()),[2]}))}))},e.prototype.setVisible=function(){null!==this.youtubeIframe&&(this.youtubeIframe.style.visibility="visible")},e.prototype.setHidden=function(){null!==this.youtubeIframe&&(this.youtubeIframe.style.visibility="hidden")},e.prototype.getCurrentTime=function(){if(void 0!==this.player)return this.player.getCurrentTime();n.warn(575703250,"Attempted to getCurrentTime www.youtube.com but undefined player")},e.prototype.getDuration=function(){if(void 0!==this.player)return this.player.getDuration()},e.prototype.seekTo=function(e){this.shouldSeekOnlineMedia(e)?this.player.seekTo(e,!0):n.warn(575703251,"Attempted to seek www.youtube.com but undefined player")},e.prototype.setMute=function(){this.player.mute()},e.prototype.setUnMute=function(){this.player.unMute()},e.prototype.setVolume=function(e){this.player.setVolume(e)},e.prototype.ensureMediaClient=function(){var e=this.getIFrameById();null!==e?(e.remove(),this.initNewYoutubePlayer()):n.warn(574634017,"Attempted to ensuremediaclient but undefined IFrame")},e.prototype.cleanUpMediaClientOnNavigatedFrom=function(){void 0!==this.pollPlayerVol&&clearInterval(this.pollPlayerVol)},e.prototype.loadVideoFrame=function(){this.loadingThumbnail=!0,this.setMute(),this.player.playVideo()},e.prototype.shouldSeekOnlineMedia=function(e){if(void 0!==this.player){var t=this.getCurrentTime();if(void 0!==t&&void 0!==this.seekToTimeThreshold&&Math.abs(e-t)>=this.seekToTimeThreshold)return!0}return!1},e.prototype.handlePartiallyOffSlideLinkedMedia=function(e){var t=0,i=0;e.mediaPosition.x<0&&(t=e.mediaPosition.x,this.parentElement.style.left="0px",this.parentElement.style.width=e.mediaSize.x+e.mediaPosition.x+"px"),e.mediaPosition.y<0&&(i=e.mediaPosition.y,this.parentElement.style.top="0px",this.parentElement.style.height=e.mediaSize.y+e.mediaPosition.y+"px"),e.mediaPosition.x+e.mediaSize.x>e.slideSize.x&&(e.mediaPosition.x<=0?this.parentElement.style.width=e.slideSize.x+"px":this.parentElement.style.width=e.slideSize.x-e.mediaPosition.x+"px"),e.mediaPosition.y+e.mediaSize.y>e.slideSize.y&&(e.mediaPosition.y<=0?this.parentElement.style.height=e.slideSize.y+"px":this.parentElement.style.height=e.slideSize.y-e.mediaPosition.y+"px"),this.parentElement.style.overflow="hidden";var r=this.youtubeIframe;null!==r?(r.style.width=e.mediaSize.x+"px",r.style.height=e.mediaSize.y+"px",r.style.position="relative",r.style.left=t+"px",r.style.top=i+"px"):n.warn(541881949,"Attempted to adjust iframe bounds but iframe is null")},e.prototype.initNewYoutubePlayer=function(){var e=this;return this.youtubeIframe=document.createElement("div"),this.youtubeIframe.id=this.iframeId,this.parentElement.append(this.youtubeIframe),this.resetYoutubePerfSummary(),this.startYtPlayerLoad=Date.now(),this.player=new YT.Player(this.youtubeIframe,{videoId:this.videoId,height:"100%",width:"100%",events:{onReady:function(t){e.onPlayerReady(t)},onError:function(t){void 0!==e.playerPerf&&e.playerPerf.onError("Youtube player entered error state "+t.data)}}}),void 0!==this.mediaSizeInfo&&this.mediaSizeInfo.fEnableCropping&&this.handlePartiallyOffSlideLinkedMedia(this.mediaSizeInfo),this.player},e.prototype.initYoutubePerfSummary=function(){return{timeToLoadStartMs:void 0,timeToInteractivityMs:void 0,timeToPlayingMs:void 0,timeToMediaReadyForPlayMs:void 0,totalBufferingTimeMs:0}},e.prototype.resetYoutubePerfSummary=function(){this.perfSummary.timeToLoadStartMs=void 0,this.perfSummary.timeToInteractivityMs=void 0,this.perfSummary.timeToPlayingMs=void 0,this.perfSummary.timeToMediaReadyForPlayMs=void 0,this.perfSummary.totalBufferingTimeMs=0},e.prototype.logPerfSummary=function(){this.updateTotalBufferingTime(),void 0===this.perfSummary.timeToLoadStartMs&&void 0===this.perfSummary.timeToInteractivityMs&&void 0===this.perfSummary.timeToPlayingMs&&void 0===this.perfSummary.timeToMediaReadyForPlayMs&&0===this.perfSummary.totalBufferingTimeMs||(this.isSlideShow?n.info(571602190,"YoutubePlayback "+JSON.stringify(this.perfSummary)):n.info(541881951,"YoutubePlayback "+JSON.stringify(this.perfSummary)),this.resetYoutubePerfSummary())},e.prototype.updateTotalBufferingTime=function(){void 0!==this.lastBufferingTime&&(this.perfSummary.totalBufferingTimeMs+=Date.now()-this.lastBufferingTime,this.lastBufferingTime=void 0)},e.prototype.getIFrameById=function(){return document.getElementById(this.iframeId)},e.prototype.onPlayerReady=function(e){var t=this;void 0!==this.onReadyCallBack&&this.onReadyCallBack(),void 0!==this.playerPerf&&this.playerPerf.onReady(),this.youtubeIframe=this.getIFrameById(),void 0===this.perfSummary.timeToInteractivityMs&&(this.perfSummary.timeToInteractivityMs=Date.now()-this.startYtPlayerLoad),this.setProperties(),this.isSlideShow||(this.play(),this.setFocus()),e.target.addEventListener("onStateChange",(function(e){t.onStateChange(e),t.capturePlayerPerf(e)})),this.pollPlayerVol=setInterval((function(){return t.onVolumeChangeHandler()}),500)},e.prototype.onVolumeChangeHandler=function(){var e=this.player.isMuted();void 0!==this.isMuted?this.isMuted!==e&&(this.isMuted=e,this.sendMediaEvent(4,e?0:this.player.getVolume())):this.isMuted=e},e.prototype.onStateChange=function(e){var t;switch(t=void 0,e.data){case-1:this.perfSummary.timeToLoadStartMs=Date.now()-this.startYtPlayerLoad;break;case 0:if(this.updateTotalBufferingTime(),Math.abs(this.player.getDuration()-this.player.getCurrentTime())<1)break;this.sendMediaEvent(2);break;case 1:if(this.loadingThumbnail)return this.loadingThumbnail=!1,this.player.pauseVideo(),void this.setUnMute();t=1,void 0===this.perfSummary.timeToPlayingMs&&(void 0!==this.lastBufferingTime?this.perfSummary.timeToPlayingMs=Date.now()-this.lastBufferingTime:this.perfSummary.timeToPlayingMs=0,this.updateTotalBufferingTime()),this.sendMediaEvent(1);break;case 2:t=2,this.updateTotalBufferingTime(),this.sendMediaEvent(0);break;case 3:t=3,this.lastBufferingTime=Date.now(),this.sendMediaEvent(3);break;case 5:t=5,this.lastBufferingTime=Date.now(),void 0===this.perfSummary.timeToMediaReadyForPlayMs&&void 0!==this.perfSummary.timeToInteractivityMs&&(this.perfSummary.timeToMediaReadyForPlayMs=Date.now()-this.perfSummary.timeToInteractivityMs);break;default:this.isSlideShow&&n.info(578675600,"Unexpected Youtube Media Event: "+e.data)}this.isSlideShow&&n.info(578675601,"Youtube Media Event: "+t)},e.prototype.capturePlayerPerf=function(e){if(void 0!==this.playerPerf)switch(e.data){case 0:this.playerPerf.onEnded();break;case 1:this.playerPerf.onPlay(),this.playerPerf.onPlaying();break;case 2:this.playerPerf.onPause();break;case 3:this.playerPerf.onSeeking(),this.playerPerf.onSeeked()}},e.prototype.sendMediaEvent=function(e,t){void 0!==this.mediaEventCallback&&void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(e,this.player.getCurrentTime(),t)},e.prototype.setProperties=function(){null!==this.youtubeIframe&&(this.youtubeIframe.style.zIndex=6..toString(),this.youtubeIframe.style.pointerEvents="all",this.youtubeIframe.style.position="absolute",this.youtubeIframe.style.objectFit="fill",this.youtubeIframe.style.border="0px",this.setVisible())},e.prototype.setFocus=function(){var e=document.getElementById(this.iframeId);null!==e&&null!==e.contentWindow&&e.contentWindow.focus()},e}(),f=(function(){function e(e,t,i,r,o,a,s,u,l){this.iframeId=Object(d.v4)(),this.streamOriginStr="https://msit.microsoftstream.com",this.seekToTimeThreshold=r,this.parentElement=e,this.streamIframe=document.createElement("iframe"),window.addEventListener("message",this.onMessage.bind(this)),this.streamIframe.src=t,this.streamIframe.id=this.iframeId,this.setProperties(this.streamIframe),this.parentElement.append(this.streamIframe),this.onReadyCallBack=a,this.mediaEventCallback=s,this.authTokenRequestor=u,this.mediaSyncLock=o,this.isSlideShow=i,this.isPaused=!0,this.useGenericStreamHostName=l,void 0!==this.authTokenRequestor&&null!==this.authTokenRequestor||n.error(572842268,"StreamAuth: Missing the authTokenRequestor callback")}e.prototype.logSummary=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.play=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){return null!==this.streamIframe.contentWindow&&(e=this.getMessage("playerfunction","play"),this.streamIframe.contentWindow.postMessage(e,this.streamOriginStr)),[2]}))}))},e.prototype.pause=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){return null!==this.streamIframe.contentWindow&&(e=this.getMessage("playerfunction","pause"),this.streamIframe.contentWindow.postMessage(e,this.streamOriginStr)),[2]}))}))},e.prototype.stop=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.togglePause=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:if(this.isPaused)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.pause()];case 2:return e.sent(),[3,4];case 3:return e.sent(),n.info(541881990,"Error Stream video pause while togglepause"),[3,4];case 4:return[3,8];case 5:return e.trys.push([5,7,,8]),[4,this.play()];case 6:return e.sent(),[3,8];case 7:return e.sent(),n.info(541881991,"Error Stream video play while togglepause"),[3,8];case 8:return[2]}}))}))},e.prototype.setMute=function(){},e.prototype.setUnMute=function(){},e.prototype.setVolume=function(e){},e.prototype.setVisible=function(){},e.prototype.setHidden=function(){},e.prototype.getPlayer=function(){return this.streamIframe},e.prototype.getCurrentTime=function(){},e.prototype.getDuration=function(){},e.prototype.seekTo=function(e){if(null!==this.streamIframe.contentWindow){var t=this.getMessage("playerfunction","setplaytime",e.toString());this.streamIframe.contentWindow.postMessage(t,this.streamOriginStr)}},e.prototype.ensureMediaClient=function(){},e.prototype.postAuthToken=function(e){if(void 0!==this.streamIframe){var t=this.streamIframe.contentWindow;null!==t&&void 0!==this.streamAuthContext?(this.streamAuthContext.messageObj.eventData.token=e,this.streamAuthContext.messageObj.result=!0,t.postMessage(this.streamAuthContext.messageObj,this.streamAuthContext.origin),n.info(572846115,"StreamAuth: Posted Aad Token back to Stream Player")):n.error(572846144,"StreamAuth: Got a Stream iframe but unable to get ContentWindow or cached Context")}},e.prototype.onMessage=function(e){if(!0===this.useGenericStreamHostName){if(!y(e.origin,"microsoftstream.com")||this.streamIframe.contentWindow!==e.source)return}else if(e.origin!==this.streamOriginStr||this.streamIframe.contentWindow!==e.source)return;switch(e.data.name){case"initializestreamconnection":n.info(553940224,"StreamAuth: Received handshake request");var t=!1;if(void 0!==this.streamIframe){var i=this.streamIframe.contentWindow;if(null!==i){var r=e.data;r.result=!0,i.postMessage(r,e.origin),t=!0}}t||n.info(555017826,"StreamAuth: Received handshake request, but unable to reply");break;case"getstreamtoken":n.info(553940225,"StreamAuth: Received auth request");var o=e.data,a=e.origin;this.streamAuthContext={messageObj:o,origin:a},void 0!==this.authTokenRequestor?(this.authTokenRequestor(o.eventData.resourceId),n.info(572846686,"StreamAuth: Triggered authTokenRequestor to forward Token request upward for Host to fulfill")):n.info(553935756,"StreamAuth: authTokenRequestor unavailable, auth pipeline won't be triggered");break;case"signinevent":case"loaddata":break;case"playerevent":this.handlePlayerEvent(e)}},e.prototype.setProperties=function(e){null!==e&&(e.style.zIndex=6..toString(),e.style.pointerEvents="all",e.style.position="absolute",e.style.objectFit="fill",e.style.height="100%",e.style.width="100%",e.style.border="0px",this.setVisible())},e.prototype.handlePlayerEvent=function(e){var t=e.data.eventData.eventname;if(void 0!==this.mediaEventCallback&&this.isSlideShow){switch(t){case"play":void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(1,void 0!==this.currentTime?this.currentTime:0),this.isPaused=!1;break;case"playing":void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(1,void 0!==this.currentTime?this.currentTime:0);break;case"pause":void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(0,void 0!==this.currentTime?this.currentTime:0),this.isPaused=!0;break;case"canplaythrough":void 0!==this.onReadyCallBack&&this.onReadyCallBack();break;case"timeupdate":var i=e.data.eventData.time;void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&void 0!==this.currentTime&&void 0!==this.seekToTimeThreshold&&Math.abs(i-this.currentTime)>this.seekToTimeThreshold&&this.mediaEventCallback(3,i),this.currentTime=i}n.info(576582675,"Stream Media Event: "+t)}},e.prototype.getMessage=function(e,t,i){return void 0!==i?{name:e,methodData:{methodname:t,data:i}}:{name:e,methodData:{methodname:t}}}}(),function(){function e(e,t,i,n,r,a,s){this.iframeId=Object(d.v4)(),this.parentElement=e,this.flipIframe=document.createElement("iframe"),window.addEventListener("message",this.onMessage.bind(this)),this.flipIframe.src=o(t,"options","messaging"),this.flipIframe.id=this.iframeId,this.setProperties(this.flipIframe),this.parentElement.append(this.flipIframe),this.onReadyCallBack=r,this.mediaEventCallback=a,this.isSlideShow=i,this.flipOriginStr=this.getOriginStr(this.flipIframe.src),this.mediaSyncLock=n,this.isPaused=!0,this.playerPerf=s}return e.prototype.logSummary=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.play=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){return null!==this.flipIframe.contentWindow&&(e=this.getMessage("fg-wvp-play",{}),this.flipIframe.contentWindow.postMessage(e,this.flipOriginStr)),[2]}))}))},e.prototype.pause=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){return null!==this.flipIframe.contentWindow&&(e=this.getMessage("fg-wvp-pause",{}),this.flipIframe.contentWindow.postMessage(e,this.flipOriginStr)),[2]}))}))},e.prototype.stop=function(){return u(this,void 0,void 0,(function(){var e;return l(this,(function(t){return null!==this.flipIframe.contentWindow&&(e=this.getMessage("fg-wvp-stop",{}),this.flipIframe.contentWindow.postMessage(e,this.flipOriginStr)),[2]}))}))},e.prototype.togglePause=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:if(this.isPaused)return[3,5];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.pause()];case 2:return e.sent(),[3,4];case 3:return e.sent(),n.info(541882003,"Error Flipgrid video pause while togglepause"),[3,4];case 4:return[3,8];case 5:return e.trys.push([5,7,,8]),[4,this.play()];case 6:return e.sent(),[3,8];case 7:return e.sent(),n.info(541882004,"Error Flipgrid video play while togglepause"),[3,8];case 8:return[2]}}))}))},e.prototype.setVisible=function(){null!==this.flipIframe&&(this.flipIframe.style.visibility="visible")},e.prototype.setHidden=function(){null!==this.flipIframe&&(this.flipIframe.style.visibility="hidden")},e.prototype.getPlayer=function(){return this.flipIframe},e.prototype.getCurrentTime=function(){},e.prototype.getDuration=function(){},e.prototype.seekTo=function(e){if(null!==this.flipIframe.contentWindow){var t=this.getMessage("fg-wvp-seek",{time:e});this.flipIframe.contentWindow.postMessage(t,this.flipOriginStr)}},e.prototype.setMute=function(){},e.prototype.setUnMute=function(){},e.prototype.setVolume=function(e){},e.prototype.ensureMediaClient=function(){},e.prototype.onMessage=function(e){e.origin===this.flipOriginStr&&this.flipIframe.contentWindow===e.source&&(this.handlePlayerEvent(e),void 0!==this.playerPerf&&this.capturePlayerPerf(e))},e.prototype.setProperties=function(e){null!==e&&(e.style.zIndex=6..toString(),e.style.pointerEvents="all",e.style.position="absolute",e.style.objectFit="fill",e.style.height="100%",e.style.width="100%",e.style.border="0px",this.setVisible())},e.prototype.handlePlayerEvent=function(e){var t=e.data.name;if(void 0!==this.mediaEventCallback&&this.isSlideShow)switch(t){case"fg-wvp-onReady":void 0!==this.onReadyCallBack&&this.onReadyCallBack();break;case"fg-wvp-onPlay":void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(1,0);break;case"fg-wvp-onPause":void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(0,e.data.data.currentTime);break;case"fg-wvp-onSeek":void 0!==this.mediaSyncLock&&this.mediaSyncLock.shouldSendMediaUpdate()&&this.mediaEventCallback(3,e.data.data.currentTime);break;case"fg-wvp-onTimeUpdate":case"fg-wvp-onBuffering":case"fg-wvp-onEnded":break;case"fg-wvp-onError":n.error(554230686,"Flipgrid player entered error state "+e.data.data.error)}},e.prototype.capturePlayerPerf=function(e){var t=e.data.name;if(void 0!==this.playerPerf)switch(t){case"fg-wvp-onReady":this.playerPerf.onReady();break;case"fg-wvp-onPlay":this.playerPerf.onPlay(),this.playerPerf.onPlaying();break;case"fg-wvp-onPause":this.playerPerf.onPause();break;case"fg-wvp-onSeek":this.playerPerf.onSeeking(),this.playerPerf.onSeeked();break;case"fg-wvp-onEnded":this.playerPerf.onEnded();break;case"fg-wvp-onError":this.playerPerf.onError("Flipgrid player entered error state "+e.data.data.error)}},e.prototype.getMessage=function(e,t){return{name:e,data:t}},e.prototype.getOriginStr=function(e){return"https://"+r(e)},e}());function y(e,t){return e.substring(e.length-t.length,e.length)===t}function m(e,t,i){var n;return!(void 0===(n=i?e.UseNewYoutubePlayer:e.UseNewEditorYoutubePlayer)||!n||"www.youtube.com"!==t||void 0===window.URLSearchParams)}function v(e,t,i){var n;return!(void 0===(n=i?e.UseNewVimeoPlayer:e.UseNewEditorVimeoPlayer)||!n||"player.vimeo.com"!==t||void 0===window.URLSearchParams)}function g(e){return"flipgrid.com"===e||"shorts.flipgrid.com"===e}var w=function(){this.rateChanges=0,this.volumeChanges=0,this.plays=0,this.seeks=0,this.stalls=0,this.totalBufferingTimeMs=0,this.totalPlayingTimeMs=0},b=function(){function e(e,t,i,n,r){this.perfSummary=new w,this.shouldUseLocalTelemetry=r,this.pageLoadingTime=Date.now(),this.isDesignerElement=i,this.mediaProperties=n,this.player=this.createLocalPlayer(e,t,i),void 0!==this.shouldUseLocalTelemetry&&this.shouldUseLocalTelemetry&&this.createPerfTelemetry()}return e.prototype.logSummary=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){return[2]}))}))},e.prototype.play=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return e.trys.push([0,2,,3]),[4,this.player.play()];case 1:return e.sent(),[3,3];case 2:return e.sent(),n.info(541882e3,"Error local video play"),[3,3];case 3:return[2]}}))}))},e.prototype.pause=function(){this.player.pause()},e.prototype.setVisible=function(){!0===this.isDesignerElement&&(this.player.loop=!0),this.player.style.visibility="visible",this.setFocus()},e.prototype.setHidden=function(){!0===this.isDesignerElement&&(this.player.loop=!1,this.player.autoplay=!1),this.player.style.pointerEvents="none",this.player.style.visibility="hidden"},e.prototype.stop=function(){this.player.pause(),this.player.currentTime=0,void 0!==this.shouldUseLocalTelemetry&&this.shouldUseLocalTelemetry&&this.logPerfSummary()},e.prototype.togglePause=function(){return u(this,void 0,void 0,(function(){return l(this,(function(e){switch(e.label){case 0:return this.player.paused?[3,1]:(this.pause(),[3,4]);case 1:return e.trys.push([1,3,,4]),[4,this.play()];case 2:return e.sent(),[3,4];case 3:return e.sent(),n.info(541882001,"Error local video play while toggle pause"),[3,4];case 4:return[2]}}))}))},e.prototype.getPlayer=function(){return this.player},e.prototype.getCurrentTime=function(){},e.prototype.getDuration=function(){},e.prototype.seekTo=function(e){},e.prototype.ensureMediaClient=function(){},e.prototype.setMute=function(){},e.prototype.setUnMute=function(){},e.prototype.setVolume=function(e){},e.prototype.logPerfSummary=function(){this.updateTotalBufferingTime(),this.updateTotalPlayingTime(),0===this.perfSummary.totalBufferingTimeMs&&0===this.perfSummary.totalPlayingTimeMs&&void 0===this.perfSummary.errorCode||(this.perfSummary.durationMs=Math.round(1e3*this.player.duration),this.perfSummary.width=this.player.videoWidth,this.perfSummary.height=this.player.videoHeight,this.perfSummary.hasControls=this.player.controls,this.perfSummary.isAutoplay=this.player.autoplay,this.perfSummary.isLoop=this.player.loop,this.perfSummary.lastRate=this.player.playbackRate,this.perfSummary.lastVolume=Math.round(100*this.player.volume),this.perfSummary.lastIsMuted=this.player.muted,n.info(541882002,"EmbeddedPlayback "+JSON.stringify(this.perfSummary)),this.perfSummary.totalBufferingTimeMs=0,this.perfSummary.totalPlayingTimeMs=0,this.perfSummary.errorCode=void 0)},e.prototype.createPerfTelemetry=function(){var e=this;this.player.addEventListener("loadstart",(function(){void 0===e.perfSummary.timeToLoadStartMs&&(e.perfSummary.timeToLoadStartMs=Date.now()-e.pageLoadingTime)})),this.player.addEventListener("canplay",(function(){void 0===e.perfSummary.timeToInteractivityMs&&(e.perfSummary.timeToInteractivityMs=Date.now()-e.pageLoadingTime)})),this.player.addEventListener("play",(function(){e.lastPlayTime=Date.now(),e.perfSummary.plays+=1})),this.player.addEventListener("playing",(function(){e.lastPlayingTime=Date.now(),void 0===e.perfSummary.timeToPlayingMs&&void 0!==e.lastPlayTime&&(e.perfSummary.timeToPlayingMs=e.lastPlayingTime-e.lastPlayTime),e.updateTotalBufferingTime()})),this.player.addEventListener("waiting",(function(){e.lastWaitingTime=Date.now(),e.updateTotalPlayingTime()})),this.player.addEventListener("pause",(function(){e.updateTotalBufferingTime(),e.updateTotalPlayingTime()})),this.player.addEventListener("seeking",(function(){e.perfSummary.seeks+=1})),this.player.addEventListener("stalled",(function(){e.perfSummary.stalls+=1})),this.player.addEventListener("ended",(function(){e.perfSummary.isPlayedUntilEnd=!0})),this.player.addEventListener("ratechange",(function(){e.perfSummary.rateChanges+=1})),this.player.addEventListener("volumechange",(function(){e.perfSummary.volumeChanges+=1})),this.player.addEventListener("error",(function(){e.updateTotalBufferingTime(),e.updateTotalPlayingTime(),void 0===e.perfSummary.errorCode&&null!==e.player.error&&(e.perfSummary.errorCode=e.player.error.code)})),this.player.addEventListener("abort",(function(){e.updateTotalBufferingTime(),e.updateTotalPlayingTime(),e.perfSummary.wasAborted=!0}))},e.prototype.updateTotalBufferingTime=function(){void 0!==this.lastWaitingTime&&(this.perfSummary.totalBufferingTimeMs+=Date.now()-this.lastWaitingTime,this.lastWaitingTime=void 0)},e.prototype.updateTotalPlayingTime=function(){void 0!==this.lastPlayingTime&&(this.perfSummary.totalPlayingTimeMs+=Date.now()-this.lastPlayingTime,this.lastPlayingTime=void 0)},e.prototype.setFocus=function(){void 0!==this.player&&this.player.focus()},e.prototype.seekToTrimStartIfNeeded=function(){void 0!==this.player&&void 0!==this.mediaProperties.trimmedEndTimeSec&&(this.player.currentTime<this.mediaProperties.trimStartSec||this.player.currentTime>=this.mediaProperties.trimmedEndTimeSec)&&(this.player.currentTime=this.mediaProperties.trimStartSec)},e.prototype.onTimeUpdate=function(){void 0!==this.player&&void 0!==this.mediaProperties.trimmedEndTimeSec&&this.player.currentTime>=this.mediaProperties.trimmedEndTimeSec&&(this.player.pause(),this.player.currentTime=this.mediaProperties.trimmedEndTimeSec)},e.prototype.isTrimValid=function(){return void 0!==this.mediaProperties.durationSec&&(this.mediaProperties.trimStartSec<=this.mediaProperties.durationSec&&this.mediaProperties.trimEndSec<=this.mediaProperties.durationSec&&this.mediaProperties.trimStartSec+this.mediaProperties.trimEndSec<this.mediaProperties.durationSec)},e.prototype.setTrim=function(e){var t=this;void 0===e||isNaN(e.duration)||(this.mediaProperties.durationSec=e.duration,this.mediaProperties.trimmedEndTimeSec=this.mediaProperties.durationSec-this.mediaProperties.trimEndSec,this.isTrimValid()?(e.addEventListener("timeupdate",(function(){t.onTimeUpdate()})),e.addEventListener("play",(function(){t.seekToTrimStartIfNeeded()}))):(this.mediaProperties.trimStartSec=0,this.mediaProperties.trimEndSec=0,this.mediaProperties.trimmedEndTimeSec=this.mediaProperties.durationSec))},e.prototype.createLocalPlayer=function(e,t,i){var n=this,r=document.createElement("video");return r.controls=!0,r.setAttribute("disablePictureInPicture","true"),r.setAttribute("controlsList","nodownload nofullscreen noremoteplayback"),r.src=t,e.appendChild(r),r.autoplay=!0,r.style.visibility=i?"hidden":"visible",i?(r.loop=!0,r.muted=!0,r.addEventListener("canplay",(function(){r.style.visibility="visible"}),{once:!0})):this.setFocus(),(this.mediaProperties.trimStartSec>0||this.mediaProperties.trimEndSec>0)&&r.addEventListener("loadedmetadata",(function(){n.setTrim(r)}),{once:!0}),r},e}(),S=function(){function e(e,t){this.playButton=t,this.parent=e}return e.prototype.setPlayButtonVisible=function(){this.isPlayButtonBiggerThanParent()||(this.playButton.style.display="block",this.playButton.style.pointerEvents="visible")},e.prototype.setPlayButtonHidden=function(){this.playButton.style.display="none"},e.prototype.updatePlayButtonVisibility=function(){this.isPlayButtonBiggerThanParent()?this.setPlayButtonHidden():(this.playButton.style.display="block",this.playButton.style.pointerEvents="visible")},e.prototype.onSelectPlayButton=function(){if(void 0===this.shapeOverlayElement&&this.findShapeSelectionOverlay(),void 0!==this.shapeOverlayElement){var e=parseFloat(this.parent.style.left)+parseFloat(this.parent.style.width)/2-28.3,t=parseFloat(this.parent.style.top)+parseFloat(this.parent.style.height)/2-28.3;this.playButton.style.top=t.toString()+"px",this.playButton.style.left=e.toString()+"px",this.shapeOverlayElement.appendChild(this.playButton)}},e.prototype.onDeSelectPlayButton=function(){this.playButton.style.top="calc(50% - "+28.3.toString()+"px)",this.playButton.style.left="calc(50% - "+28.3.toString()+"px)",this.parent.appendChild(this.playButton)},e.prototype.findShapeSelectionOverlay=function(){null!==this.parent.parentElement&&void 0!==this.parent.parentElement.getElementsByClassName("ShapeSelectionOverlay")[0]?this.shapeOverlayElement=this.parent.parentElement.getElementsByClassName("ShapeSelectionOverlay")[0]:this.shapeOverlayElement=void 0},e.prototype.isPlayButtonBiggerThanParent=function(){return 56.6>parseFloat(this.parent.style.width)||56.6>parseFloat(this.parent.style.height)},e}();function P(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}var T=function(){function e(e,t,i,r,o,a,s){var u;this.appSettings=s,this.isPlaying=!1,this.isNativeVideo=r,this.isDesignerElement=o,this.parent=e,this.url=t,this.hostName=this.isNativeVideo?"":this.getHostname(t),this.videoToolTip=i,this.videoLibraryCallback=a,this.playButton=this.createPlayButton(),this.isSlideShow=!1,this.playButtonHandler=new S(this.parent,this.playButton),m(this.appSettings,this.hostName,this.isSlideShow)&&!document.querySelector('script[src="https://www.youtube.com/iframe_api"]')&&((u=document.createElement("script")).setAttribute("type","text/javascript"),u.src="https://www.youtube.com/iframe_api",document.head.appendChild(u)),n.info(541882006,"Video Element Count"),this.isDesignerElement&&this.startPlaying()}return e.prototype.setPlayButtonHidden=function(){void 0!==this.playButtonHandler&&this.playButtonHandler.setPlayButtonHidden()},e.prototype.updatePlayButtonVisibility=function(){this.isPlaying||void 0===this.playButtonHandler||this.playButtonHandler.updatePlayButtonVisibility()},e.prototype.setPlayButtonVisible=function(){this.isPlaying||void 0===this.playButtonHandler||this.playButtonHandler.setPlayButtonVisible()},e.prototype.startPlaying=function(){if(this.isNativeVideo&&""===this.url)return this.setPlayButtonHidden(),this.isPlaying=!0,void this.videoLibraryCallback.fetchLocalVideoSrc();void 0===this.client?this.createClient(this.url):this.isPlaying||(this.client.setVisible(),this.client.play(),this.setClientProperties(6,"absolute","all")),void 0!==this.client&&(this.isPlaying=!0),n.info(541882007,"Video Play Count"),this.setPlayButtonHidden()},e.prototype.stopPlaying=function(){void 0!==this.client&&(this.client.setHidden(),this.isPlaying&&this.client.stop(),this.isPlaying=!1)},e.prototype.hasClient=function(){return void 0!==this.client},e.prototype.setClientProperties=function(e,t,i){if(void 0!==this.client){var n=this.client.getPlayer();n.style.zIndex=e.toString(),n.style.pointerEvents=i,n.style.position=t,n.style.objectFit="fill",n.style.height="100%",n.style.width="100%"}},e.prototype.setLocalVideoSrc=function(e){this.url=e,(this.videoLibraryCallback.isSelected()||this.isDesignerElement)&&this.startPlaying()},e.prototype.onSelectPlayButton=function(){void 0!==this.playButtonHandler&&this.playButtonHandler.onSelectPlayButton()},e.prototype.onDeSelectPlayButton=function(){void 0!==this.playButtonHandler&&this.playButtonHandler.onDeSelectPlayButton()},e.prototype.dispose=function(){null!==this.playButton&&void 0!==this.playButton&&null!==this.playButton.parentNode&&void 0!==this.playButton.parentNode&&this.playButton.parentNode.removeChild(this.playButton)},e.prototype.createClient=function(e){try{this.createClientInternal(e)}catch(e){n.info(541882008,"Error VideoManager: "+this.hostName)}},e.prototype.createClientInternal=function(e){if(this.isNativeVideo)this.client=new b(this.parent,e,this.isDesignerElement,void 0!==this.videoLibraryCallback?void 0!==(r=this.videoLibraryCallback.getMediaProperties())?{trimStartSec:void 0!==r.trimStartSec?r.trimStartSec:0,trimEndSec:void 0!==r.trimEndSec?r.trimEndSec:0,volume:void 0!==r.volume?r.volume:.8,mute:void 0!==r.mute&&r.mute,repeat:void 0!==r.repeat&&r.repeat,rewind:void 0!==r.rewind&&r.rewind,playAcrossSlides:void 0!==r.playAcrossSlides&&r.playAcrossSlides,hideDuringShow:void 0!==r.hideDuringShow&&r.hideDuringShow,startOption:void 0!==r.startOption?r.startOption:"NYI",trimmedEndTimeSec:void 0,durationSec:void 0}:{trimStartSec:0,trimEndSec:0,volume:.8,mute:!1,repeat:!1,rewind:!1,playAcrossSlides:!1,hideDuringShow:!1,startOption:"NYI",trimmedEndTimeSec:void 0,durationSec:void 0}:{trimStartSec:0,trimEndSec:0,volume:.8,mute:!1,repeat:!1,rewind:!1,playAcrossSlides:!1,hideDuringShow:!1,startOption:"NYI",trimmedEndTimeSec:void 0,durationSec:void 0},this.appSettings.useNewLocalTelemetry),this.setClientProperties(6,"absolute","all");else if(m(this.appSettings,this.hostName,this.isSlideShow))this.client=new p(this.parent,void 0,a(e),!1);else if(v(this.appSettings,this.hostName,this.isSlideShow))this.client=new h(this.parent,e,!1);else if(g(this.hostName)){var t=o(e,"options","messaging,autoplay");this.client=new f(this.parent,t,!1)}else{var i=e;"www.youtube.com"===this.hostName&&(i+="&enablejsapi=1"),"www.slideshare.net"!==this.hostName&&(i=this.setAutoPlayParam(e)),this.client=new s(this.parent,i),this.setClientProperties(6,"absolute","all")}var r;this.client.getPlayer().setAttribute("title",this.videoToolTip),n.info(541882009,"Success VideoManager")},e.prototype.playButtonOnClick=function(e){void 0!==e&&(e.stopImmediatePropagation(),e.preventDefault()),this.videoLibraryCallback.selectShape(),this.startPlaying()},e.prototype.createPlayButton=function(){var e=this,t=function(){var e=P("svg");e.style.height=56.6.toString()+"px",e.style.width=56.6.toString()+"px",e.setAttribute("viewBox","-1 -1 2 2"),e.style.position="absolute",e.style.zIndex=6..toString(),e.style.top="calc(50% - "+28.3.toString()+"px)",e.style.left="calc(50% - "+28.3.toString()+"px)",e.style.cursor="pointer",e.style.pointerEvents="all";var t=P("circle");t.setAttribute("cx","0"),t.setAttribute("cy","0"),t.setAttribute("r","1"),t.setAttribute("fill","#404040");var i=P("path");return i.setAttribute("d","M.5 0 L-.25 -.5 L-.25 .5 Z"),i.setAttribute("fill","none"),i.setAttribute("stroke","white"),i.setAttribute("stroke-width",".05"),i.setAttribute("opacity",".5"),e.appendChild(t),e.appendChild(i),e}();return t.addEventListener("click",(function(t){return e.playButtonOnClick(t)}),!1),this.isDesignerElement&&t.setAttribute("visibility","hidden"),this.parent.appendChild(t),t},e.prototype.getHostname=function(e){return void 0!==this.appSettings.IsGFXVideoUrlUtilsEnabled&&this.appSettings.IsGFXVideoUrlUtilsEnabled?r(e):void 0!==window.URLSearchParams&&""!==e?new URL(e).hostname:""},e.prototype.setAutoPlayParam=function(e){if(void 0!==this.appSettings.IsGFXVideoUrlUtilsEnabled&&this.appSettings.IsGFXVideoUrlUtilsEnabled)return o(e,"autoplay","true");if(void 0!==window.URLSearchParams&&""!==e){var t=new URL(e);return t.searchParams.set("autoplay","true"),t.toString()}return e},e}(),k=new(function(){function e(){}return e.prototype.createVideoManager=function(e,t,i,n,r,o,a){return new T(e,t,i,n,r,o,a)},e.prototype.setLogger=function(e){!function(e){n=e}(e)},e}())}]);
//# sourceMappingURL=video.js.map